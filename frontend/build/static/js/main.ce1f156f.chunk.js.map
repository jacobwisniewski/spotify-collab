{"version":3,"sources":["components/ProfilePageHeader/ProfilePageHeader.module.css","components/ElementList/ElementList.module.css","pages/LandingPage/LandingPage.module.css","pages/ProfilePage/ProfilePage.module.css","components/DropdownInput/DropdownInput.module.css","integrations/Integration.ts","utils/responseToJson.ts","components/ToggleInput/ToggleInput.module.css","components/Message/Message.module.css","components/Field/Field.module.css","components/Header/Header.module.css","components/Button/Button.module.css","state/AppState.ts","models/ImmutableMap.ts","components/Message/Message.tsx","components/Icons/SpotifyLogo.tsx","components/Button/Button.tsx","effects/getSpotifyProfileEffect.ts","effects/profileSearchClickEffect.ts","effects/getSpotifyUserTopTypeEffect.ts","effects/loginUserEffect.ts","effects/getUserDataEffect.ts","state/AppAction.ts","components/Field/Field.tsx","pages/LandingPage/LandingPage.tsx","components/Header/Header.tsx","utils/joinClasses.ts","components/ProfilePageHeader/ProfilePageHeader.tsx","utils/isNullOrBlank.ts","components/ToggleInput/ToggleInput.tsx","components/DropdownInput/DropdownInput.tsx","components/ElementList/ElementList.tsx","components/TopTypeContainer/TopTypeContainer.tsx","pages/ProfilePage/ProfilePage.tsx","routeConfig.tsx","utils/applyValidationResults.ts","models/ValidationResult.ts","state/AppValidators.ts","state/AppReducer.ts","hooks/userReducerWithEffects.ts","App.tsx","index.tsx"],"names":["module","exports","TimeRange","responseToJson","response","a","text","responseBody","status","Promise","reject","JSON","parse","resolve","Integration","refreshAccessTokens","fetch","method","credentials","then","getUserData","getUserProfile","spotifyId","getSpotifyUserTopTracks","timeRange","getSpotifyUserTopArtists","getUserSessionData","userDataString","sessionStorage","getItem","setUserSessionData","userData","setItem","stringify","IntegrationStatus","TopType","LoginStatus","ImmutableMap","map","Map","internalMap","toMap","set","key","value","copy","delete","getOrDefault","defaultValue","get","has","values","getValues","Array","from","keys","getKeys","size","this","previous","MessageType","MessageSize","AppState","userProfile","displayName","spotifyPictureUrl","spotifyProfileUrl","followers","extendedData","spotifyTopTracks","spotifyTopTracksStatus","INITIAL","spotifyTopTracksError","undefined","spotifyProfileStatus","spotifyProfileError","profileSearchValue","profileSearchErrors","timeRangeSelected","MEDIUM_TERM","topType","TRACKS","spotifyTopArtists","spotifyTopArtistsError","spotifyTopArtistsStatus","refreshAccessTokenStatus","refreshAccessTokenError","spotify_id","display_name","profile_picture_url","spotify_profile_url","email","country","spotify_account_type","userDataStatus","userDataError","loginStatus","SpotifyLogo","width","viewBox","transform","fill","fillOpacity","fillRule","stroke","d","Button","title","onClick","disabled","onButtonClick","useCallback","event","preventDefault","className","styles","Message","NORMAL","type","children","classNames","join","Content","getSpotifyProfileEffect","state","action","context","integration","payload","spotifyProfileResponse","spotifyProfileSuccess","profileSearchClickEffect","navigate","spotifyProfileLoading","getSpotifyUserTopTypeEffect","spotifyUserTopTracksResponse","spotifyUserTopTracksSuccess","spotifyUserTopTracksError","spotifyUserTopArtistsResponse","spotifyUserTopArtistsSuccess","spotifyUserTopArtistsError","loginUserEffect","userSessionData","userDataSuccess","userDataLoading","getUserDataEffect","effects","error","spotifyUserTopTypeLoading","spotifyUserTopTracks","spotifyUserTopArtists","profileSearchClick","userDataResponse","Field","input","message","FieldContainer","InputContainer","MessageContainer","LandingPage","dispatch","profileSearchError","isLoggedIn","LOGGED_IN","onSearchChange","searchValue","target","onSearchKeyDown","onSearchClick","onLoginClick","window","location","href","LandingPageContainer","HeaderContainer","SubtitleContainer","Subtitle","SearchContainer","SearchInput","onChange","onKeyDown","ERROR","SearchInputError","ButtonContainer","Header","onLogoClick","Logo","joinClasses","args","ProfilePageHeaderLoading","Loading","HeaderBackground","ProfilePicture","HeaderRule","InfoContainer","Followers","ProfilePageHeader","profile","onSpotifyClick","open","profilePicture","length","src","alt","ToggleInput","selected","left","right","onSelect","leftSelected","handleClick","ToggleInputContainer","concat","Selected","DropdownInput","optionSelected","options","onOptionSelect","optionSelectedId","indexOf","useState","showOptions","setShowOptions","highlightedOptionId","setHighlightedOptionId","handleContainerFocus","handleContainerBlur","handleMouseEnterOnOption","selectedOptionId","currentTarget","getAttribute","parseInt","handleKeyPress","includes","blur","DropdownInputContainer","Focus","Input","onFocus","onBlur","readOnly","OptionsContainer","option","OptionContainer","id","Highlighted","data-option-id","onMouseEnter","ElementLoading","order","TrackContainer","Order","AlbumCover","TrackHeader","Title","Element","image","subtitle","url","ElementList","elements","showOrder","skeleton","_","index","TIME_RANGE_OPTIONS","SHORT_TERM","LONG_TERM","TopTypeContainer","onTimeRangeSelect","onTopTypeSelect","timeRangeOptions","topTracks","name","artists","album","topArtists","isLoading","LOADING","ARTISTS","TimeRangeInput","ProfilePageError","onBackClick","ErrorContainer","ProfilePage","queryParams","isInitial","isError","isSuccessfullyLoaded","isLoggedInUser","useEffect","navigateToLandingPageClick","ProfilePageContainer","ProfileContainer","routeConfig","page","params","applyValidationResults","validationResults","previousErrors","reduce","nextErrors","validationResult","onSuccess","onFailure","ValidationResult","isValid","result","validateProfileSearch","ofSuccess","ofFailure","AppReducer","prevState","SUCCESS","InitialAppState","NO_USER","useReducerWithEffects","reducer","state0","effectContext","useReducer","reactDispatch","actions","useRef","setTimeout","current","push","forEach","nextAction","App","route","useRoutes","CurrentRoute","integrationModule","default","ReactDOM","render","document","getElementById","init"],"mappings":"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","file":"static/js/main.ce1f156f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"HeaderContainer\":\"ProfilePageHeader_HeaderContainer__1-N5l\",\"HeaderBackground\":\"ProfilePageHeader_HeaderBackground__1KEPg\",\"ProfilePicture\":\"ProfilePageHeader_ProfilePicture__1a2-0\",\"Header\":\"ProfilePageHeader_Header__SrMYV\",\"Subtitle\":\"ProfilePageHeader_Subtitle__1_D9f\",\"Followers\":\"ProfilePageHeader_Followers__TJaKw\",\"HeaderRule\":\"ProfilePageHeader_HeaderRule__1Exzo\",\"InfoContainer\":\"ProfilePageHeader_InfoContainer__LZrmu\",\"Loading\":\"ProfilePageHeader_Loading__2bxq8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TrackContainer\":\"ElementList_TrackContainer__9XJ4l\",\"Order\":\"ElementList_Order__3EvNg\",\"AlbumCover\":\"ElementList_AlbumCover__nXqtb\",\"TrackHeader\":\"ElementList_TrackHeader__1GF_G\",\"Title\":\"ElementList_Title__3FQ5y\",\"Subtitle\":\"ElementList_Subtitle__pc2bC\",\"Loading\":\"ElementList_Loading__1TZLh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LandingPageContainer\":\"LandingPage_LandingPageContainer__2gWEi\",\"HeaderContainer\":\"LandingPage_HeaderContainer__1Kmo3\",\"SubtitleContainer\":\"LandingPage_SubtitleContainer__3ghcC\",\"Subtitle\":\"LandingPage_Subtitle__1jLjQ\",\"SearchContainer\":\"LandingPage_SearchContainer__231QP\",\"SearchInput\":\"LandingPage_SearchInput__3JQQt\",\"SearchInputError\":\"LandingPage_SearchInputError__tVplg\",\"ButtonContainer\":\"LandingPage_ButtonContainer__1PnOh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfilePageContainer\":\"ProfilePage_ProfilePageContainer__327gr\",\"ProfileContainer\":\"ProfilePage_ProfileContainer__2RQ4S\",\"LoadingContainer\":\"ProfilePage_LoadingContainer__2Gg4J\",\"ErrorContainer\":\"ProfilePage_ErrorContainer__l5Jok\",\"HeaderContainer\":\"ProfilePage_HeaderContainer__2XmAC\",\"HeaderBackground\":\"ProfilePage_HeaderBackground__2oFNK\",\"ProfilePicture\":\"ProfilePage_ProfilePicture__1cG4u\",\"Header\":\"ProfilePage_Header__3-dQQ\",\"Subtitle\":\"ProfilePage_Subtitle__2bz2r\",\"Followers\":\"ProfilePage_Followers__piqrt\",\"HeaderRule\":\"ProfilePage_HeaderRule__1qWOQ\",\"InfoContainer\":\"ProfilePage_InfoContainer__1_YOj\",\"TrackContainer\":\"ProfilePage_TrackContainer__W48sl\",\"FadeIn\":\"ProfilePage_FadeIn__4Nkox\",\"TrackHeader\":\"ProfilePage_TrackHeader__2HqQo\",\"TimeRangeInput\":\"ProfilePage_TimeRangeInput__cCYoc\",\"TrackTitle\":\"ProfilePage_TrackTitle__3v0Wc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropdownInputContainer\":\"DropdownInput_DropdownInputContainer__3oxyx\",\"InputContainer\":\"DropdownInput_InputContainer__omAKn\",\"Input\":\"DropdownInput_Input__2dvwk\",\"OptionsContainer\":\"DropdownInput_OptionsContainer__1UyBA\",\"OptionContainer\":\"DropdownInput_OptionContainer__1ALQz\",\"SlideOutAnimation\":\"DropdownInput_SlideOutAnimation__3sgm6\",\"Highlighted\":\"DropdownInput_Highlighted__3KupF\"};","import { UserProfileResponse } from \"../models/UserProfileResponse\"\nimport responseToJson from \"../utils/responseToJson\"\nimport { SpotifyUserTopTracksResponse } from \"../models/SpotifyUserTopTracksResponse\"\nimport { SpotifyUserTopArtistsResponse } from \"../models/SpotifyUserTopArtistsResponse\"\nimport { UserDataResponse } from \"../models/UserDataResponse\"\n\nexport enum TimeRange {\n  SHORT_TERM = \"short_term\",\n  MEDIUM_TERM = \"medium_term\",\n  LONG_TERM = \"long_term\"\n}\n\nexport interface Integration {\n  getUserData(): Promise<UserDataResponse>\n  refreshAccessTokens(): Promise<void>\n  getUserProfile(spotifyId: string): Promise<UserProfileResponse>\n  getSpotifyUserTopTracks(spotifyId: string, timeRange: TimeRange): Promise<SpotifyUserTopTracksResponse>\n  getSpotifyUserTopArtists(spotifyId: string, timeRange: TimeRange): Promise<SpotifyUserTopArtistsResponse>\n  getUserSessionData(): UserDataResponse | undefined\n  setUserSessionData(userData: UserDataResponse): void\n}\n\nconst Integration: Integration = {\n  refreshAccessTokens(): Promise<void> {\n    return fetch(`/api/auth/token`, {\n      method: \"POST\",\n      credentials: \"include\"\n    }).then(responseToJson)\n  },\n  getUserData() {\n    return fetch(`/api/users`, {\n      method: \"GET\",\n      credentials: \"include\"\n    }).then(responseToJson)\n  },\n  getUserProfile(spotifyId) {\n    return fetch(`/api/users/${spotifyId}`, {\n      method: \"GET\"\n    }).then(responseToJson)\n  },\n  getSpotifyUserTopTracks(spotifyId: string, timeRange: TimeRange): Promise<SpotifyUserTopTracksResponse> {\n    return fetch(`/api/users/${spotifyId}/tracks?time_range=${timeRange}`, {\n      method: \"GET\"\n    }).then(responseToJson)\n  },\n  getSpotifyUserTopArtists(spotifyId: string, timeRange: TimeRange): Promise<SpotifyUserTopArtistsResponse> {\n    return fetch(`/api/users/${spotifyId}/artists?time_range=${timeRange}`, {\n      method: \"GET\"\n    }).then(responseToJson)\n  },\n  getUserSessionData(): UserDataResponse | undefined {\n    const userDataString = sessionStorage.getItem(\"userData\")\n    if (userDataString) return JSON.parse(userDataString)\n    return undefined\n  },\n  setUserSessionData(userData: UserDataResponse): void {\n    sessionStorage.setItem(\"userData\", JSON.stringify(userData))\n  }\n}\n\nexport default Integration\n","const responseToJson = async (response: Response): Promise<any> => {\n  const responseBody = await response.text()\n\n  if (response.status < 200 || response.status > 299) {\n    try {\n      return Promise.reject(JSON.parse(responseBody))\n    } catch {\n      return Promise.reject(responseBody)\n    }\n  }\n\n  return Promise.resolve(JSON.parse(responseBody))\n}\n\nexport default responseToJson\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ToggleInputContainer\":\"ToggleInput_ToggleInputContainer__1tX0F\",\"Button\":\"ToggleInput_Button__2Rztw\",\"Selected\":\"ToggleInput_Selected__163xW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Message\":\"Message_Message__L9LXR\",\"Size_Normal\":\"Message_Size_Normal__2WJmN\",\"Large\":\"Message_Large__3Wj95\",\"Type_Normal\":\"Message_Type_Normal__13Ivs\",\"Error\":\"Message_Error__aqgVB\",\"White\":\"Message_White__ABgHp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FieldContainer\":\"Field_FieldContainer__JrJsM\",\"InputContainer\":\"Field_InputContainer__3azzJ\",\"MessageContainer\":\"Field_MessageContainer__1W38g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"HeaderContainer\":\"Header_HeaderContainer__F-Ur3\",\"Logo\":\"Header_Logo__18l3V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import { UserProfileResponse } from \"../models/UserProfileResponse\"\nimport { ImmutableMap } from \"../models/ImmutableMap\"\nimport { TimeRange } from \"../integrations/Integration\"\nimport { SpotifyTrack } from \"../models/SpotifyUserTopTracksResponse\"\nimport { SpotifyArtist } from \"../../../app/db/queries\"\nimport { UserDataResponse } from \"../models/UserDataResponse\"\n\nexport enum IntegrationStatus {\n  INITIAL,\n  LOADING,\n  SUCCESS,\n  ERROR\n}\n\nexport type ProfileSearchErrorType = \"PROFILE_SEARCH_ERROR\"\n\nexport enum TopType {\n  TRACKS = \"TRACKS\",\n  ARTISTS = \"ARTISTS\"\n}\n\nexport enum LoginStatus {\n  INITIAL,\n  LOADING,\n  LOGGED_IN,\n  NO_USER\n}\n\nexport interface AppState {\n  userProfile: UserProfileResponse\n  spotifyProfileStatus: IntegrationStatus\n  spotifyProfileError: Error | undefined\n\n  profileSearchValue: string\n  profileSearchErrors: ImmutableMap<ProfileSearchErrorType, string>\n\n  spotifyTopTracks: SpotifyTrack[]\n  spotifyTopTracksStatus: IntegrationStatus\n  spotifyTopTracksError: Error | undefined\n\n  spotifyTopArtists: SpotifyArtist[]\n  spotifyTopArtistsStatus: IntegrationStatus\n  spotifyTopArtistsError: Error | undefined\n\n  timeRangeSelected: TimeRange\n  topType: TopType\n\n  refreshAccessTokenStatus: IntegrationStatus\n  refreshAccessTokenError: Error | undefined\n\n  userData: UserDataResponse\n  userDataStatus: IntegrationStatus\n  userDataError: Error | undefined\n\n  loginStatus: LoginStatus\n}\n\nconst AppState: AppState = {\n  userProfile: {\n    spotifyId: \"\",\n    displayName: \"\",\n    spotifyPictureUrl: \"\",\n    spotifyProfileUrl: \"\",\n    followers: -1,\n    extendedData: false\n  },\n  spotifyTopTracks: [],\n  spotifyTopTracksStatus: IntegrationStatus.INITIAL,\n  spotifyTopTracksError: undefined,\n  spotifyProfileStatus: IntegrationStatus.INITIAL,\n  spotifyProfileError: undefined,\n  profileSearchValue: \"\",\n  profileSearchErrors: new ImmutableMap(),\n  timeRangeSelected: TimeRange.MEDIUM_TERM,\n  topType: TopType.TRACKS,\n  spotifyTopArtists: [],\n  spotifyTopArtistsError: undefined,\n  spotifyTopArtistsStatus: IntegrationStatus.INITIAL,\n  refreshAccessTokenStatus: IntegrationStatus.INITIAL,\n  refreshAccessTokenError: undefined,\n  userData: {\n    spotify_id: \"\",\n    display_name: \"\",\n    profile_picture_url: \"\",\n    spotify_profile_url: \"\",\n    followers: -1,\n    email: \"\",\n    country: \"\",\n    spotify_account_type: \"\"\n  },\n  userDataStatus: IntegrationStatus.INITIAL,\n  userDataError: undefined,\n  loginStatus: LoginStatus.INITIAL\n}\n\nexport default AppState\n","export class ImmutableMap<K, V> {\n  private readonly internalMap: Map<K, V>\n\n  constructor(map: Map<K, V> = new Map<K, V>()) {\n    this.internalMap = map\n  }\n\n  static from<K, V>(previous: ImmutableMap<K, V>): ImmutableMap<K, V> {\n    return new ImmutableMap(previous.toMap())\n  }\n\n  private toMap = (): Map<K, V> => {\n    const copy = new Map(this.internalMap)\n\n    return copy\n  }\n\n  set = (key: K, value: V): ImmutableMap<K, V> => {\n    const copy = new Map(this.internalMap)\n    copy.set(key, value)\n\n    return new ImmutableMap<K, V>(copy)\n  }\n\n  delete = (key: K): ImmutableMap<K, V> => {\n    const copy = new Map(this.internalMap)\n    copy.delete(key)\n\n    return new ImmutableMap<K, V>(copy)\n  }\n\n  getOrDefault = (key: K, defaultValue: V): V => {\n    return this.internalMap.get(key) || defaultValue\n  }\n\n  get = (key: K): V | undefined => {\n    return this.internalMap.get(key)\n  }\n\n  has = (key: K): boolean => {\n    return this.internalMap.has(key)\n  }\n\n  values = (): IterableIterator<V> => {\n    return this.internalMap.values()\n  }\n\n  getValues = (): V[] => {\n    return Array.from(this.values())\n  }\n\n  keys = (): IterableIterator<K> => {\n    return this.internalMap.keys()\n  }\n\n  getKeys = (): K[] => {\n    return Array.from(this.keys())\n  }\n\n  size = () => {\n    return this.internalMap.size\n  }\n}\n","import React, { FunctionComponent, ReactNode } from \"react\"\nimport styles from \"./Message.module.css\"\n\nexport enum MessageType {\n  NORMAL = \"Type_Normal\",\n  ERROR = \"Error\",\n  WHITE = \"WHITE\"\n}\n\nexport enum MessageSize {\n  NORMAL = \"Size_Normal\",\n  LARGE = \"Large\"\n}\n\ninterface MessageProps {\n  size?: MessageSize\n  type?: MessageType\n  children?: ReactNode\n}\n\nconst Message: FunctionComponent<MessageProps> = ({ size = MessageSize.NORMAL, type = MessageSize.NORMAL, children }) => {\n  const classNames = [styles.Message, styles[type], styles[size], \"Message\"].join(\" \")\n\n  return (\n    <div className={classNames}>\n      <div className={styles.Content}>{children || <>&nbsp;</>}</div>\n    </div>\n  )\n}\n\nexport default Message\n","import React, { FunctionComponent } from \"react\"\n\ninterface SpotifyLogoProps {}\n\nconst SpotifyLogo: FunctionComponent<SpotifyLogoProps> = () => {\n  return (\n    <svg width=\"80px\" viewBox=\"0 0 755.907 226.72\">\n      <g transform=\"matrix(1.33333 0 0 -1.33333 0 226.72)\" >\n        <g fill=\"#ffffff\" fillOpacity=\"1\" fillRule=\"nonzero\" stroke=\"none\" transform=\"scale(.1)\">\n          <path d=\"M1375.32 945.234c-269.94 160.306-715.199 175.046-972.89 96.836-41.383-12.55-85.141 10.81-97.68 52.19-12.539 41.4 10.797 85.13 52.207 97.71 295.813 89.8 787.553 72.45 1098.313-112.02 37.23-22.09 49.44-70.16 27.37-107.329-22.08-37.215-70.19-49.484-107.32-27.387zm-8.84-237.441c-18.93-30.734-59.11-40.363-89.8-21.504-225.05 138.336-568.223 178.41-834.473 97.594-34.527-10.434-70.996 9.031-81.48 43.496-10.407 34.527 9.07 70.93 43.535 81.43C708.418 1001.1 1086.52 956.398 1345 797.551c30.69-18.899 40.35-59.102 21.48-89.758zm-102.47-228.031c-15.04-24.672-47.18-32.41-71.76-17.371-196.656 120.187-444.176 147.339-735.676 80.75-28.094-6.442-56.086 11.168-62.496 39.25-6.433 28.089 11.102 56.078 39.258 62.488 318.996 72.926 592.634 41.539 813.364-93.34 24.61-15.027 32.36-47.18 17.31-71.777zM879.957 1687.63c-462.492 0-837.434-374.92-837.434-837.415 0-462.535 374.942-837.445 837.434-837.445 462.513 0 837.433 374.91 837.433 837.445 0 462.495-374.92 837.415-837.433 837.415\" />\n          <path d=\"M2320.89 914.539c-144.59 34.481-170.34 58.684-170.34 109.521 0 48.05 45.24 80.37 112.5 80.37 65.2 0 129.84-24.55 197.63-75.09 2.05-1.53 4.62-2.14 7.15-1.74 2.53.38 4.76 1.76 6.25 3.86l70.6 99.52c2.9 4.09 2.11 9.75-1.8 12.88-80.67 64.73-171.51 96.2-277.69 96.2-156.12 0-265.17-93.68-265.17-227.74 0-143.754 94.07-194.648 256.63-233.937 138.36-31.871 161.71-58.567 161.71-106.305 0-52.887-47.22-85.769-123.21-85.769-84.39 0-153.24 28.429-230.25 95.121-1.91 1.64-4.53 2.398-6.95 2.261-2.54-.211-4.87-1.39-6.49-3.339l-79.16-94.211c-3.32-3.911-2.9-9.75.93-13.129 89.61-79.992 199.8-122.25 318.72-122.25 168.23 0 276.94 91.929 276.94 234.199 0 120.238-71.84 186.734-248 229.578\" />\n          <path d=\"M3071.62 753.391c0-101.532-62.54-172.379-152.09-172.379-88.53 0-155.31 74.066-155.31 172.379 0 98.297 66.78 172.375 155.31 172.375 88.11 0 152.09-72.477 152.09-172.375zM2949.5 1057.14c-72.92 0-132.73-28.72-182.05-87.57v66.24c0 5.23-4.24 9.49-9.47 9.49h-129.46c-5.23 0-9.46-4.26-9.46-9.49V299.789c0-5.23 4.23-9.488 9.46-9.488h129.46c5.23 0 9.47 4.258 9.47 9.488v232.32c49.33-55.359 109.15-82.398 182.05-82.398 135.49 0 272.65 104.301 272.65 303.68 0 199.422-137.16 303.749-272.65 303.749\" />\n          <path d=\"M3573.73 579.949c-92.81 0-162.78 74.571-162.78 173.442 0 99.285 67.55 171.336 160.64 171.336 93.41 0 163.85-74.567 163.85-173.504 0-99.274-68.01-171.274-161.71-171.274zm0 477.191c-174.49 0-311.19-134.363-311.19-305.917 0-169.692 135.76-302.645 309.05-302.645 175.11 0 312.23 133.91 312.23 304.813 0 170.328-136.18 303.749-310.09 303.749\" />\n          <path d=\"M4256.44 1045.3h-142.47v145.66c0 5.23-4.22 9.48-9.45 9.48h-129.45c-5.24 0-9.5-4.25-9.5-9.48V1045.3h-62.25c-5.22 0-9.43-4.26-9.43-9.49V924.543c0-5.227 4.21-9.484 9.43-9.484h62.25V627.141c0-116.352 57.91-175.34 172.12-175.34 46.44 0 84.97 9.59 121.28 30.179 2.95 1.649 4.79 4.829 4.79 8.211v105.957a9.51 9.51 0 01-4.5 8.071c-2.82 1.769-6.33 1.859-9.22.429-24.94-12.546-49.05-18.339-76-18.339-41.53 0-60.07 18.851-60.07 61.121v267.629h142.47c5.23 0 9.44 4.257 9.44 9.484v111.267c0 5.23-4.21 9.49-9.44 9.49\" />\n          <path d=\"M4752.81 1044.73v17.89c0 52.63 20.18 76.1 65.44 76.1 26.99 0 48.67-5.36 72.95-13.46 2.99-.94 6.11-.47 8.54 1.32 2.5 1.79 3.91 4.66 3.91 7.7v109.1c0 4.17-2.68 7.86-6.69 9.08-25.65 7.63-58.47 15.47-107.61 15.47-119.59 0-182.79-67.34-182.79-194.67v-27.4h-62.2c-5.22 0-9.5-4.25-9.5-9.48V924.543c0-5.227 4.28-9.484 9.5-9.484h62.2V470.961c0-5.231 4.22-9.481 9.44-9.481h129.46c5.23 0 9.49 4.25 9.49 9.481v444.098h120.88L5061 471.078c-21.02-46.648-41.69-55.93-69.91-55.93-22.81 0-46.83 6.813-71.39 20.25-2.31 1.274-5.04 1.481-7.54.711-2.47-.879-4.55-2.711-5.6-5.121l-43.88-96.269c-2.09-4.547-.31-9.891 4.07-12.25 45.81-24.809 87.17-35.399 138.27-35.399 95.6 0 148.44 44.539 195.03 164.34l224.61 580.4c1.12 2.92.79 6.21-1 8.81-1.78 2.56-4.65 4.11-7.79 4.11h-134.78c-4.03 0-7.65-2.56-8.97-6.35L5134.05 644l-151.23 394.64c-1.38 3.67-4.91 6.09-8.84 6.09h-221.17\" />\n          <path d=\"M4465.05 1045.3h-129.47c-5.23 0-9.48-4.26-9.48-9.49V470.961c0-5.231 4.25-9.481 9.48-9.481h129.47c5.22 0 9.48 4.25 9.48 9.481v564.849c0 5.23-4.26 9.49-9.48 9.49\" />\n          <path d=\"M4400.97 1302.49c-51.28 0-92.91-41.53-92.91-92.81 0-51.32 41.63-92.89 92.91-92.89 51.27 0 92.85 41.57 92.85 92.89 0 51.28-41.58 92.81-92.85 92.81\" />\n          <path d=\"M5540.49 989.113h-23.72v-30.25h23.72c11.84 0 18.91 5.793 18.91 15.133 0 9.84-7.07 15.117-18.91 15.117zm15.38-43.152l25.77-36.086h-21.73l-23.2 33.098h-19.94v-33.098h-18.19v95.645h42.65c22.21 0 36.83-11.372 36.83-30.508 0-15.676-9.06-25.258-22.19-29.051zm-20.2 91.379c-46.67 0-81.99-37.09-81.99-82.527 0-45.407 35.07-82.008 81.51-82.008 46.66 0 82.01 37.07 82.01 82.527 0 45.408-35.09 82.008-81.53 82.008zm-.48-173.649c-51.24 0-91.11 41.153-91.11 91.122 0 49.977 40.39 91.597 91.59 91.597 51.23 0 91.11-41.15 91.11-91.078 0-49.977-40.36-91.641-91.59-91.641\" />\n        </g>\n      </g>\n    </svg>\n  )\n}\n\nexport default SpotifyLogo\n","import React, { FunctionComponent, MouseEventHandler, useCallback } from \"react\"\nimport styles from \"./Button.module.css\"\n\nexport type ButtonClickHandler = () => void\n\ninterface ButtonProps {\n  title: string\n  onClick?: ButtonClickHandler\n  disabled?: boolean\n}\n\nconst Button: FunctionComponent<ButtonProps> = ({ title, onClick, disabled }) => {\n  const onButtonClick = useCallback<MouseEventHandler<HTMLButtonElement>>(\n    (event) => {\n      event.preventDefault()\n      !disabled && onClick!()\n    },\n    [onClick, disabled]\n  )\n\n  return (\n    <button className={styles.Button} onClick={onClick ? onButtonClick : () => {}} disabled={disabled ? disabled : false}>\n      {title}\n    </button>\n  )\n}\n\nexport default Button\n","import { AppEffect } from \"./AppEffect\"\nimport { spotifyProfileError, SpotifyProfileLoadingAction, spotifyProfileSuccess } from \"../state/AppAction\"\n\nconst getSpotifyProfileEffect: AppEffect = async (state, action, context) => {\n  try {\n    const spotifyProfileResponse = await context.integration.getUserProfile((action as SpotifyProfileLoadingAction).payload)\n    return spotifyProfileSuccess(spotifyProfileResponse)\n  } catch (error) {\n    return spotifyProfileError(error)\n  }\n}\n\nexport default getSpotifyProfileEffect\n","import { AppEffect } from \"./AppEffect\"\nimport { navigate } from \"hookrouter\"\nimport { ProfileSearchClickAction, spotifyProfileLoading } from \"../state/AppAction\"\n\nconst profileSearchClickEffect: AppEffect = async (state, action, context) => {\n  if (state.profileSearchErrors.size() === 0) {\n    const profileSearchValue = (action as ProfileSearchClickAction).payload\n    navigate(`/@${profileSearchValue}`)\n    return spotifyProfileLoading(profileSearchValue)\n  }\n}\n\nexport default profileSearchClickEffect\n","import { AppEffect } from \"./AppEffect\"\nimport {\n  spotifyUserTopArtistsError,\n  spotifyUserTopArtistsSuccess,\n  spotifyUserTopTracksError,\n  spotifyUserTopTracksSuccess\n} from \"../state/AppAction\"\nimport { TopType } from \"../state/AppState\"\n\nconst getSpotifyUserTopTypeEffect: AppEffect = async (state, action, context) => {\n  if (state.topType === TopType.TRACKS) {\n    try {\n      const spotifyUserTopTracksResponse = await context.integration.getSpotifyUserTopTracks(\n        state.userProfile.spotifyId,\n        state.timeRangeSelected\n      )\n      return spotifyUserTopTracksSuccess(spotifyUserTopTracksResponse)\n    } catch (error) {\n      return spotifyUserTopTracksError(error)\n    }\n  } else {\n    try {\n      const spotifyUserTopArtistsResponse = await context.integration.getSpotifyUserTopArtists(\n        state.userProfile.spotifyId,\n        state.timeRangeSelected\n      )\n      return spotifyUserTopArtistsSuccess(spotifyUserTopArtistsResponse)\n    } catch (error) {\n      return spotifyUserTopArtistsError(error)\n    }\n  }\n}\n\nexport default getSpotifyUserTopTypeEffect\n","import { AppEffect } from \"./AppEffect\"\nimport { userDataLoading, userDataSuccess } from \"../state/AppAction\"\n\nconst loginUserEffect: AppEffect = async (state, action, context) => {\n  const userSessionData = context.integration.getUserSessionData()\n\n  if (userSessionData) {\n    return userDataSuccess(userSessionData)\n  }\n\n  return userDataLoading()\n}\n\nexport default loginUserEffect\n","import { AppEffect } from \"./AppEffect\"\nimport { userDataError, userDataSuccess } from \"../state/AppAction\"\n\nconst getUserDataEffect: AppEffect = async (state, action, context) => {\n  try {\n    const userData = await context.integration.getUserData()\n    context.integration.setUserSessionData(userData)\n\n    return userDataSuccess(userData)\n  } catch (error) {\n    return userDataError(error)\n  }\n}\n\nexport default getUserDataEffect\n","import { ActionWithEffects } from \"../hooks/userReducerWithEffects\"\nimport { AppState, TopType } from \"./AppState\"\nimport { AppEffectContext } from \"../effects/AppEffect\"\nimport getSpotifyProfileEffect from \"../effects/getSpotifyProfileEffect\"\nimport profileSearchClickEffect from \"../effects/profileSearchClickEffect\"\nimport getSpotifyUserTopTypeEffect from \"../effects/getSpotifyUserTopTypeEffect\"\nimport { SpotifyUserTopTracksResponse } from \"../models/SpotifyUserTopTracksResponse\"\nimport { TimeRange } from \"../integrations/Integration\"\nimport { SpotifyUserTopArtistsResponse } from \"../models/SpotifyUserTopArtistsResponse\"\nimport loginUserEffect from \"../effects/loginUserEffect\"\nimport { UserDataResponse } from \"../models/UserDataResponse\"\nimport getUserDataEffect from \"../effects/getUserDataEffect\"\nimport refreshAccessTokenEffect from \"../effects/refreshAccessTokenEffect\"\nimport { UserProfileResponse } from \"../models/UserProfileResponse\"\n\nexport interface Action<T, P> extends ActionWithEffects<AppState, AppAction, AppEffectContext> {\n  type: T\n  payload: P\n}\n\nexport type SpotifyProfileLoadingAction = Action<\"SPOTIFY_PROFILE_LOADING\", string>\nexport const spotifyProfileLoading = (spotifyId: string): SpotifyProfileLoadingAction => ({\n  type: \"SPOTIFY_PROFILE_LOADING\",\n  payload: spotifyId,\n  effects: getSpotifyProfileEffect\n})\n\nexport type SpotifyProfileSuccessAction = Action<\"SPOTIFY_PROFILE_SUCCESS\", UserProfileResponse>\nexport const spotifyProfileSuccess = (userProfile: UserProfileResponse): SpotifyProfileSuccessAction => ({\n  type: \"SPOTIFY_PROFILE_SUCCESS\",\n  payload: userProfile\n})\n\nexport type SpotifyProfileErrorAction = Action<\"SPOTIFY_PROFILE_ERROR\", Error>\nexport const spotifyProfileError = (error: Error): SpotifyProfileErrorAction => ({\n  type: \"SPOTIFY_PROFILE_ERROR\",\n  payload: error\n})\n\nexport type SpotifyUserTopTypeLoadingAction = Action<\"SPOTIFY_USER_TOP_TYPE_LOADING\", undefined>\nexport const spotifyUserTopTypeLoading = (): SpotifyUserTopTypeLoadingAction => ({\n  type: \"SPOTIFY_USER_TOP_TYPE_LOADING\",\n  payload: undefined,\n  effects: getSpotifyUserTopTypeEffect\n})\n\nexport type SpotifyUserTopTracksSuccessAction = Action<\"SPOTIFY_USER_TOP_TRACKS_SUCCESS\", SpotifyUserTopTracksResponse>\nexport const spotifyUserTopTracksSuccess = (spotifyUserTopTracks: SpotifyUserTopTracksResponse): SpotifyUserTopTracksSuccessAction => ({\n  type: \"SPOTIFY_USER_TOP_TRACKS_SUCCESS\",\n  payload: spotifyUserTopTracks\n})\n\nexport type SpotifyUserTopTracksErrorAction = Action<\"SPOTIFY_USER_TOP_TRACKS_ERROR\", Error>\nexport const spotifyUserTopTracksError = (error: Error): SpotifyUserTopTracksErrorAction => ({\n  type: \"SPOTIFY_USER_TOP_TRACKS_ERROR\",\n  payload: error\n})\n\nexport type SpotifyUserTopArtistsSuccessAction = Action<\"SPOTIFY_USER_TOP_ARTISTS_SUCCESS\", SpotifyUserTopArtistsResponse>\nexport const spotifyUserTopArtistsSuccess = (spotifyUserTopArtists: SpotifyUserTopArtistsResponse): SpotifyUserTopArtistsSuccessAction => ({\n  type: \"SPOTIFY_USER_TOP_ARTISTS_SUCCESS\",\n  payload: spotifyUserTopArtists\n})\n\nexport type SpotifyUserTopArtistsErrorAction = Action<\"SPOTIFY_USER_TOP_ARTISTS_ERROR\", Error>\nexport const spotifyUserTopArtistsError = (error: Error): SpotifyUserTopArtistsErrorAction => ({\n  type: \"SPOTIFY_USER_TOP_ARTISTS_ERROR\",\n  payload: error\n})\n\nexport type ProfileSearchChangeAction = Action<\"PROFILE_SEARCH_CHANGE\", string>\nexport const profileSearchChange = (spotifyId: string): ProfileSearchChangeAction => ({\n  type: \"PROFILE_SEARCH_CHANGE\",\n  payload: spotifyId\n})\n\nexport type ProfileSearchClickAction = Action<\"PROFILE_SEARCH_CLICK\", string>\nexport const profileSearchClick = (spotifyId: string): ProfileSearchClickAction => ({\n  type: \"PROFILE_SEARCH_CLICK\",\n  payload: spotifyId,\n  effects: profileSearchClickEffect\n})\n\nexport type NavigateToLandingPageAction = Action<\"NAVIGATE_TO_LANDING_PAGE\", undefined>\nexport const navigateToLandingPage = (): NavigateToLandingPageAction => ({\n  type: \"NAVIGATE_TO_LANDING_PAGE\",\n  payload: undefined\n})\n\nexport type TimeRangeChangeAction = Action<\"TIME_RANGE_CHANGE\", TimeRange>\nexport const timeRangeChange = (timeRange: TimeRange): TimeRangeChangeAction => ({\n  type: \"TIME_RANGE_CHANGE\",\n  payload: timeRange,\n  effects: getSpotifyUserTopTypeEffect\n})\n\nexport type TopTypeChangeAction = Action<\"TOP_TYPE_CHANGE\", TopType>\nexport const topTypeChange = (topType: TopType): TopTypeChangeAction => ({\n  type: \"TOP_TYPE_CHANGE\",\n  payload: topType\n})\n\nexport type LoginUserAction = Action<\"LOGIN_USER\", undefined>\nexport const loginUser = (): LoginUserAction => ({\n  type: \"LOGIN_USER\",\n  payload: undefined,\n  effects: loginUserEffect\n})\n\nexport type LogoutUserAction = Action<\"LOGOUT_USER\", undefined>\nexport const logoutUser = (): LogoutUserAction => ({\n  type: \"LOGOUT_USER\",\n  payload: undefined\n})\n\nexport type UserDataLoadingAction = Action<\"USER_DATA_LOADING_ACTION\", undefined>\nexport const userDataLoading = (): UserDataLoadingAction => ({\n  type: \"USER_DATA_LOADING_ACTION\",\n  payload: undefined,\n  effects: getUserDataEffect\n})\n\nexport type UserDataSuccessAction = Action<\"USER_DATA_SUCCESS_ACTION\", UserDataResponse>\nexport const userDataSuccess = (userDataResponse: UserDataResponse): UserDataSuccessAction => ({\n  type: \"USER_DATA_SUCCESS_ACTION\",\n  payload: userDataResponse\n})\n\nexport type UserDataErrorAction = Action<\"USER_DATA_ERROR_ACTION\", Error | undefined>\nexport const userDataError = (error?: Error): UserDataErrorAction => ({\n  type: \"USER_DATA_ERROR_ACTION\",\n  payload: error\n})\n\nexport type RefreshAccessTokenLoadingAction = Action<\"REFRESH_ACCESS_TOKEN_LOADING_ACTION\", undefined>\nexport const refreshAccessTokenLoading = (): RefreshAccessTokenLoadingAction => ({\n  type: \"REFRESH_ACCESS_TOKEN_LOADING_ACTION\",\n  payload: undefined,\n  effects: refreshAccessTokenEffect\n})\n\nexport type RefreshAccessTokenSuccessAction = Action<\"REFRESH_ACCESS_TOKEN_SUCCESS_ACTION\", undefined>\nexport const refreshAccessTokenSuccess = (): RefreshAccessTokenSuccessAction => ({\n  type: \"REFRESH_ACCESS_TOKEN_SUCCESS_ACTION\",\n  payload: undefined\n})\n\nexport type RefreshAccessTokenErrorAction = Action<\"REFRESH_ACCESS_TOKEN_ERROR_ACTION\", Error>\nexport const refreshAccessTokenError = (error: Error): RefreshAccessTokenErrorAction => ({\n  type: \"REFRESH_ACCESS_TOKEN_ERROR_ACTION\",\n  payload: error\n})\n\nexport type AppAction =\n  | SpotifyProfileLoadingAction\n  | SpotifyProfileSuccessAction\n  | SpotifyProfileErrorAction\n  | ProfileSearchChangeAction\n  | ProfileSearchClickAction\n  | NavigateToLandingPageAction\n  | SpotifyUserTopTypeLoadingAction\n  | SpotifyUserTopTracksSuccessAction\n  | SpotifyUserTopTracksErrorAction\n  | TimeRangeChangeAction\n  | SpotifyUserTopArtistsErrorAction\n  | SpotifyUserTopArtistsSuccessAction\n  | TopTypeChangeAction\n  | LoginUserAction\n  | LogoutUserAction\n  | UserDataLoadingAction\n  | UserDataSuccessAction\n  | UserDataErrorAction\n  | RefreshAccessTokenLoadingAction\n  | RefreshAccessTokenSuccessAction\n  | RefreshAccessTokenErrorAction\n","import React, { FunctionComponent, ReactElement } from \"react\"\nimport styles from \"./Field.module.css\"\nimport Message from \"../Message/Message\"\n\ninterface FieldProps {\n  input: ReactElement\n  message?: ReactElement\n}\n\nconst Field: FunctionComponent<FieldProps> = ({ input, message }) => {\n  return (\n    <div className={styles.FieldContainer}>\n      <div className={styles.InputContainer}>{input}</div>\n      <div className={styles.MessageContainer}>{message || <Message />}</div>\n    </div>\n  )\n}\n\nexport default Field\n","import React, { ChangeEventHandler, KeyboardEventHandler, useCallback } from \"react\"\nimport { Page } from \"../Page\"\nimport styles from \"./LandingPage.module.css\"\nimport SpotifyLogo from \"../../components/Icons/SpotifyLogo\"\nimport Button, { ButtonClickHandler } from \"../../components/Button/Button\"\nimport Message, { MessageType } from \"../../components/Message/Message\"\nimport { profileSearchChange, profileSearchClick } from \"../../state/AppAction\"\nimport Field from \"../../components/Field/Field\"\nimport { LoginStatus } from \"../../state/AppState\"\nimport { navigate } from \"hookrouter\"\n\nconst LandingPage: Page = ({ integration, state, dispatch }) => {\n  const profileSearchError = state.profileSearchErrors.getOrDefault(\"PROFILE_SEARCH_ERROR\", \"\")\n  const { profileSearchValue, loginStatus } = state\n\n  const isLoggedIn = loginStatus === LoginStatus.LOGGED_IN\n\n  const onSearchChange = useCallback<ChangeEventHandler<HTMLInputElement>>(\n    (event) => {\n      const searchValue = event.target.value\n      dispatch(profileSearchChange(searchValue))\n    },\n    [dispatch]\n  )\n  const onSearchKeyDown = useCallback<KeyboardEventHandler<HTMLInputElement>>(\n    (event) => {\n      if (event.key === \"Enter\") {\n        dispatch(profileSearchClick(profileSearchValue))\n      }\n    },\n    [dispatch, profileSearchValue]\n  )\n\n  const onSearchClick = useCallback<ButtonClickHandler>(() => {\n    dispatch(profileSearchClick(profileSearchValue))\n  }, [dispatch, profileSearchValue])\n\n  const onLoginClick = useCallback<ButtonClickHandler>(() => {\n    if (isLoggedIn) {\n      navigate(`/@${state.userData.spotify_id}`)\n    } else {\n      window.location.href = \"/api/auth/authorize\"\n    }\n  }, [isLoggedIn, state])\n\n  return (\n    <div className={styles.LandingPageContainer}>\n      <header className={styles.HeaderContainer}>\n        <h1>Collab.</h1>\n        <div className={styles.SubtitleContainer}>\n          <h3 className={styles.Subtitle}>Powered by </h3>\n          <SpotifyLogo />\n        </div>\n      </header>\n      <section className={styles.SearchContainer}>\n        <Field\n          input={<input className={styles.SearchInput} value={profileSearchValue} onChange={onSearchChange} onKeyDown={onSearchKeyDown} />}\n          message={\n            <Message type={MessageType.ERROR}>\n              {profileSearchError && <div className={styles.SearchInputError}>{profileSearchError}</div>}\n            </Message>\n          }\n        />\n        <div className={styles.ButtonContainer}>\n          <Button title=\"Search\" onClick={onSearchClick} />\n          <Button title={isLoggedIn ? \"See Profile\" : \"Login\"} onClick={onLoginClick} />\n        </div>\n      </section>\n    </div>\n  )\n}\n\nexport default LandingPage\n","import React, { FunctionComponent, MouseEventHandler, useCallback } from \"react\"\nimport styles from \"./Header.module.css\"\n\nexport type HeaderClickHandler = () => void\n\ninterface HeaderProps {\n  onLogoClick: HeaderClickHandler\n}\n\nconst Header: FunctionComponent<HeaderProps> = ({ onLogoClick }) => {\n  const onClick = useCallback<MouseEventHandler<HTMLHeadingElement>>(() => {\n    onLogoClick()\n  }, [onLogoClick])\n\n  return (\n    <header className={styles.HeaderContainer}>\n      <h2 className={styles.Logo} onClick={onClick}>\n        Collab.\n      </h2>\n    </header>\n  )\n}\n\nexport default Header\n","export const joinClasses = (...args: (string | undefined)[]) => args.join(\" \")\n","import React, { FunctionComponent, useCallback } from \"react\"\nimport styles from \"./ProfilePageHeader.module.css\"\nimport Button, { ButtonClickHandler } from \"../Button/Button\"\nimport { isNullOrBlank } from \"../../utils/isNullOrBlank\"\nimport { AppState } from \"../../state/AppState\"\nimport { joinClasses } from \"../../utils/joinClasses\"\n\ninterface ProfilePageHeaderProps {\n  profile: AppState[\"userProfile\"]\n}\n\nconst anonymousProfilePicture =\n  \"data:image/jpeg;base64,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AUh//8QAFhEAAwAAAAAAAAAAAAAAAAAAAXCA/9oACAEBEQE/AYQCA//EACYQAAEDAwMEAgMAAAAAAAAAAAEAIUARMFAiMWECEBIgQVEycHH/2gAIAQAABj8C/RLDtuvyTFPgeE7+1DgK9VpinmVO1x1xLpdpKr9X6/eIEkYgYgYjpvjEdMh/iCRHOZMcHE0O9/xEoYil0CX/AG6TM5t+I3m1CrZJniyZ4smeMOBbM197fMtlzd5XEdk7wWZPDZanisye+y1SdLJ7mpNLdabNAucA/tQKgwNCqetfk4Pn0Awp7k4UHt//xAAmEAABAwQBBAIDAQAAAAAAAAABABEhMDFAUUFQYXGhIJEQgbFw/9oACAEAAAE/If8ACbqHwibgDyUD5H6Xm+lwEogwt0GxxsVvTugGEfFkDhFZNuDnvRxwKMRY8FcEKIMLZmmnuoJoHCPtKxygYAuUEIcVQEJEIDcZLporshoyWiOzXCXvkg3hr/0yfRFf+mT6Yr/0yTfwVy+7JNx7RXOzzkAOxwCAa1cASAUyFuMf08G/4xyZmxgk+P8Aag4BOE2CJwnkvkAAdgt3riB1xycpx9qrDNlst49DV8GnLvVoVfWGZDm2nsBfNMKAhMbGolAXCJJLmSej6fhzwbw0QcfbPBhaFEyEYLdIQ8+kZgkwpa7TttlkQQWIY5VnRsqQvtVHTGyuYfYY5uH7UnNgy8is6NjDPx/akJPSEWxJOZG4RuuUYXQRMzpAABhAxzN1ISa4RBhaneyMZiNIQsDDLADA4XP9UQQWMGg0hAN7Z4yYO0yvt8jh6ELOMiI++Mu6GWeyR8POHRWVxf8AL2gOiyfq/H//2gAMAwAAARECEQAAEAgggggggggggggggggggggggggggjhhigggggggggggggghvTPPPwggggggggggggghfPPPPLCAgggggggggggn/PPPPPLggggggggggghnPPPPPPLgggggggggggllPPPPPPLggggggggggghtPPPPPPLAggggggggggkvPPPPPPPAgggggggggggvPPPPPPPggggggggggggtfPPPPPIAgggggggggggkvPPPPPIggggggggggggghfPPPMQgggggggggggggufPPPMQgggggggggggggl/PPPPyggggggggggggr/PPPPPHjgggggggghp3PPPPPPPPPCzgggghj3PPPPPPPPPPPPPHyggr/ADzzzzzzzzzzzzzzx8JLzzzzzzzzzzzzzzzzzwL/xAAaEQACAwEBAAAAAAAAAAAAAAABESAwQABQ/9oACAECEQE/ENq5YVAi8TItEzkPqDyRM+EIm8RN4ibVyoVSrU1eoDCcp7//xAAcEQEAAgMBAQEAAAAAAAAAAAABETAAIEAxEFD/2gAIAQERAT8Q7ZMk4V0HJuXcbX3c95DkPeQsfKTjLXc8/CdS95C6jbOLuOTTOTXOTst46Lwj8eMz/8QAKxABAAECBQMDAwUBAAAAAAAAAREAITAxQEFRYXGBkaHwIFDBEHCx0fHh/9oACAEAAAE/EP2JYhnomsrH4ZVtd2lUPh/NHPBJFScrZ2fP2G9n0KoRDzZPSggAHAR9KESVmmd+Q18MuF136tBBBYwAuQGYJihE9GSKkpW3DrLGy9h3Yi4ybNWlP+IdUoO5BWUeI74u4uWeHmgThIdTMBax3fjjxQWudz4ankV30tjy8GPqf81MX7vW+OZ7C6hyowPyjHzezUOVKfnWx36jqZh0mPAfP4uphvJ92PY6i/jUN1wIcloBAA6GOkCG1yaHKxnsdO7PQ6H2LTynJNDJeEPQ08tZXO2+gGwglpc7J6tQZawS5P7xljOlApLWT0NVzTAe5iyW4vy1cpZzHZxZQ7FedXBigpd9sRYJbFccrHYawJOzfqc4c+lnJsa1IZUjUsyNkwRTELTTt1Eq764x1ZffBEPu18B6XB6mP+KMtbnXQwPbBEg7kUJFsxrUCLTL2MND7LxOsCAFVgDepPKb9DjD2AX1z0pkoLI7apPJ7YqzOu/xxi2RgyOdST6RafaHurBUB5MseKACAgx86m/BlnxSWb3Ro4Aqb5AqHTp7KAAABkGjSSG5Uh4PJ8V4phcceW19MiotOkyP7okIGQEacAQCOY1KL7h/VT88HZwwUAlcgM6hXeDm96GmDY1acCZiVBLz1v8ADSIUMxLmAJlO65HepIHO/wAa+xMORzKg/nkMn6s3p34OaBB3d1+wqhle3Wl9/ceT6bMbj0Nj7HKQ+JH0cBt3bei2X2SA7Jh2f1mQ2Dz/AJ9lg5or9P/Z\"\n\nconst ProfilePageHeaderLoading: FunctionComponent = () => {\n  return (\n    <div className={joinClasses(styles.HeaderContainer, styles.Loading)}>\n      <div className={styles.HeaderBackground} />\n      <div className={styles.ProfilePicture} />\n      <div className={styles.Header} />\n      <div className={styles.Subtitle} />\n      <hr className={styles.HeaderRule} />\n      <div className={styles.InfoContainer}>\n        <Button title={\"Open to Spotify\"} disabled={true} />\n        <div className={styles.Followers} />\n      </div>\n    </div>\n  )\n}\nconst ProfilePageHeader: FunctionComponent<ProfilePageHeaderProps> = ({ profile }) => {\n  const onSpotifyClick = useCallback<ButtonClickHandler>(() => {\n    window.open(profile!.spotifyProfileUrl, \"_blank\")\n  }, [profile])\n\n  if (!profile.spotifyId) return <ProfilePageHeaderLoading />\n\n  const { spotifyId, displayName, spotifyPictureUrl, followers } = profile\n  const profilePicture = isNullOrBlank(spotifyPictureUrl) ? anonymousProfilePicture : spotifyPictureUrl\n\n  return (\n    <div className={styles.HeaderContainer}>\n      <div className={styles.HeaderBackground} />\n      <img className={styles.ProfilePicture} src={profilePicture!} alt={\"Spotify Profile\"} />\n      <h2 className={styles.Header}>{displayName}</h2>\n      <h3 className={styles.Subtitle}>{spotifyId}</h3>\n      <hr className={styles.HeaderRule} />\n      <div className={styles.InfoContainer}>\n        <Button onClick={onSpotifyClick} title={\"Open to Spotify\"} />\n        <h3 className={styles.Followers}>{!!followers ? `Followers: ${followers}` : \"No followers 😢\"}</h3>\n      </div>\n    </div>\n  )\n}\n\nexport default ProfilePageHeader\n","export const isNullOrBlank = (value: null | string): boolean => {\n  if (value === null) {\n    return true\n  } else if (value.length === 0) {\n    return true\n  }\n  return false\n}\n","import React, { FunctionComponent, MouseEventHandler, useCallback } from \"react\"\nimport styles from \"./ToggleInput.module.css\"\n\ninterface ToggleSelectEvent {\n  selected: string\n}\n\nexport interface ToggleSelectHandler {\n  (event: ToggleSelectEvent): void\n}\n\ninterface ToggleInputProps {\n  selected: string\n  left: string\n  right: string\n  onSelect: ToggleSelectHandler\n}\n\nconst ToggleInput: FunctionComponent<ToggleInputProps> = ({ selected, left, right, onSelect }) => {\n  const leftSelected = left === selected\n\n  const handleClick = useCallback<MouseEventHandler<HTMLButtonElement>>(\n    (event) => {\n      const selected = (event.target as HTMLButtonElement).value\n      onSelect({ selected: selected })\n    },\n    [onSelect]\n  )\n\n  return (\n    <div className={styles.ToggleInputContainer}>\n      <button className={[styles.Button].concat(leftSelected ? [styles.Selected] : []).join(\" \")} onClick={handleClick} value={left}>\n        {left}\n      </button>\n      <button className={[styles.Button].concat(!leftSelected ? [styles.Selected] : []).join(\" \")} onClick={handleClick} value={right}>\n        {right}\n      </button>\n    </div>\n  )\n}\n\nexport default ToggleInput\n","import React from \"react\"\nimport styles from \"./DropdownInput.module.css\"\nimport { FocusEventHandler, FunctionComponent, KeyboardEventHandler, MouseEventHandler, useCallback, useState } from \"react\"\n\nexport interface DropdownOption {\n  id: number\n  title: string\n  value: any\n}\n\ninterface OptionSelectEvent {\n  selected: DropdownOption\n}\n\nexport interface OptionSelectHandler {\n  (event: OptionSelectEvent): void\n}\n\nexport interface DropdownInputProps {\n  className?: string\n  optionSelected: any\n  options: DropdownOption[]\n  onOptionSelect: OptionSelectHandler\n}\n\nconst DropdownInput: FunctionComponent<DropdownInputProps> = ({ className, optionSelected, options, onOptionSelect }) => {\n  const optionSelectedId = options.map(({ value }) => value).indexOf(optionSelected)\n  const [showOptions, setShowOptions] = useState(false)\n  const [highlightedOptionId, setHighlightedOptionId] = useState(optionSelectedId)\n\n  const handleContainerFocus = useCallback<FocusEventHandler<HTMLInputElement>>(() => {\n    setShowOptions(true)\n  }, [setShowOptions])\n\n  const handleContainerBlur = useCallback<FocusEventHandler<HTMLInputElement>>(() => {\n    if (highlightedOptionId !== optionSelectedId) {\n      onOptionSelect({ selected: options[highlightedOptionId] })\n    }\n    setShowOptions(false)\n  }, [setShowOptions, highlightedOptionId, onOptionSelect, options, optionSelectedId])\n\n  const handleMouseEnterOnOption = useCallback<MouseEventHandler<HTMLLIElement>>(\n    (event) => {\n      const selectedOptionId = event.currentTarget.getAttribute(\"data-option-id\")\n      selectedOptionId && setHighlightedOptionId(parseInt(selectedOptionId))\n    },\n    [setHighlightedOptionId]\n  )\n\n  const handleKeyPress = useCallback<KeyboardEventHandler<HTMLInputElement>>(\n    (event) => {\n      event.preventDefault()\n      if ([\"ArrowDown\", \"Down\"].includes(event.key)) {\n        if (highlightedOptionId === -1) {\n          setHighlightedOptionId(0)\n        } else if (highlightedOptionId >= 0 && highlightedOptionId < options.length - 1) {\n          setHighlightedOptionId(highlightedOptionId + 1)\n        }\n      }\n\n      if ([\"ArrowUp\", \"Up\"].includes(event.key) && highlightedOptionId > 0) {\n        setHighlightedOptionId(highlightedOptionId - 1)\n      }\n\n      if ([\"Enter\", \"Spacebar\", \" \"].includes(event.key) && highlightedOptionId >= 0) {\n        event.currentTarget.blur()\n      }\n\n      if ([\"Escape\", \"Esc\"].includes(event.key)) {\n        event.currentTarget.blur()\n      }\n    },\n    [highlightedOptionId, setHighlightedOptionId, options]\n  )\n\n  return (\n    <div className={[styles.DropdownInputContainer, className].join(\" \")}>\n      <div className={[styles.InputContainer].concat(showOptions ? [styles.Focus] : []).join(\" \")}>\n        <input\n          className={styles.Input}\n          onFocus={handleContainerFocus}\n          onBlur={handleContainerBlur}\n          onKeyDown={handleKeyPress}\n          value={options[highlightedOptionId].title}\n          readOnly\n        />\n      </div>\n      {showOptions && (\n        <ul className={styles.OptionsContainer}>\n          {options.map((option) => (\n            <li\n              className={[styles.OptionContainer].concat(highlightedOptionId === option.id ? [styles.Highlighted] : []).join(\" \")}\n              key={option.id}\n              data-option-id={option.id}\n              onMouseEnter={handleMouseEnterOnOption}\n            >\n              {option.title}\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  )\n}\n\nexport default DropdownInput\n","import React, { FunctionComponent } from \"react\"\nimport styles from \"./ElementList.module.css\"\nimport { joinClasses } from \"../../utils/joinClasses\"\n\nexport interface Element {\n  image?: string\n  title?: string\n  subtitle?: string\n  url?: string\n  order?: number\n}\n\ninterface ElementListProps {\n  elements: Element[]\n  showOrder?: boolean\n  skeleton?: boolean\n}\n\ninterface ElementLoadingProps {\n  order?: number\n}\n\nconst ElementLoading: FunctionComponent<ElementLoadingProps> = ({ order }) => {\n  return (\n    <div className={joinClasses(styles.Loading, styles.TrackContainer)}>\n      {order && <div className={styles.Order}>{order}</div>}\n      <div className={styles.AlbumCover} />\n      <div className={styles.TrackHeader}>\n        <div className={styles.Title} />\n        <div className={styles.Subtitle} />\n      </div>\n    </div>\n  )\n}\n\nconst Element: FunctionComponent<Element> = ({ image, title, subtitle, url, order }) => {\n  if (!title) return <ElementLoading order={order} />\n\n  return (\n    <div className={styles.TrackContainer}>\n      {order && <div className={styles.Order}>{order}</div>}\n      <img className={styles.AlbumCover} src={image} alt={title} />\n      <div className={styles.TrackHeader}>\n        <a href={url} className={styles.Title}>\n          {title}\n        </a>\n        <div className={styles.Subtitle}>{subtitle}</div>\n      </div>\n    </div>\n  )\n}\n\nconst ElementList: FunctionComponent<ElementListProps> = ({ elements, showOrder, skeleton }) => {\n  if (skeleton) {\n    return (\n      <div>\n        {Array(25)\n          .fill(null)\n          .map((_, index) => (\n            <Element key={index} order={showOrder ? index + 1 : undefined} />\n          ))}\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      {elements.map(({ image, title, subtitle, url, order }, index) => (\n        <Element key={index} image={image} title={title} subtitle={subtitle} url={url} order={showOrder ? order : undefined} />\n      ))}\n    </div>\n  )\n}\n\nexport default ElementList\n","import React, { useCallback } from \"react\"\nimport styles from \"../../pages/ProfilePage/ProfilePage.module.css\"\nimport ToggleInput, { ToggleSelectHandler } from \"../ToggleInput/ToggleInput\"\nimport DropdownInput, { DropdownOption, OptionSelectHandler } from \"../DropdownInput/DropdownInput\"\nimport { Page } from \"../../pages/Page\"\nimport { spotifyUserTopTypeLoading, timeRangeChange, topTypeChange } from \"../../state/AppAction\"\nimport { TimeRange } from \"../../integrations/Integration\"\nimport { IntegrationStatus, TopType } from \"../../state/AppState\"\nimport ElementList, { Element } from \"../ElementList/ElementList\"\n\nconst TIME_RANGE_OPTIONS = [\n  { title: \"4 Weeks\", value: TimeRange.SHORT_TERM },\n  { title: \"6 Months\", value: TimeRange.MEDIUM_TERM },\n  { title: \"All Time\", value: TimeRange.LONG_TERM }\n]\n\nconst TopTypeContainer: Page = ({ integration, state, dispatch }) => {\n  const onTimeRangeSelect = useCallback<OptionSelectHandler>(\n    ({ selected }) => {\n      dispatch(timeRangeChange(selected.value))\n    },\n    [dispatch]\n  )\n\n  const onTopTypeSelect = useCallback<ToggleSelectHandler>(\n    ({ selected }) => {\n      dispatch(topTypeChange(selected as TopType))\n      dispatch(spotifyUserTopTypeLoading())\n    },\n    [dispatch]\n  )\n\n  const timeRangeOptions: DropdownOption[] = TIME_RANGE_OPTIONS.map(({ title, value }, index) => ({\n    title,\n    value,\n    id: index\n  }))\n\n  const topTracks: Element[] = state.spotifyTopTracks.map(({ id, name, url, artists, album }, index) => ({\n    title: name,\n    subtitle: `${artists.map(({ name }) => name).join(\", \")} • ${album.name}`,\n    url: url,\n    image: album.image,\n    order: index + 1\n  }))\n\n  const topArtists: Element[] = state.spotifyTopArtists.map(({ id, name, image, url }, index) => ({\n    title: name,\n    url: url,\n    image: image!,\n    order: index + 1\n  }))\n\n  const isLoading =\n    state.spotifyTopTracksStatus === IntegrationStatus.LOADING || state.spotifyTopArtistsStatus === IntegrationStatus.LOADING\n\n  return (\n    <div className={styles.TrackContainer}>\n      <div className={styles.TrackHeader}>\n        <ToggleInput selected={state.topType} left={TopType.TRACKS} right={TopType.ARTISTS} onSelect={onTopTypeSelect} />\n        <DropdownInput\n          className={styles.TimeRangeInput}\n          optionSelected={state.timeRangeSelected}\n          options={timeRangeOptions}\n          onOptionSelect={onTimeRangeSelect}\n        />\n      </div>\n      <ElementList elements={state.topType === TopType.TRACKS ? topTracks : topArtists} showOrder={true} skeleton={isLoading} />\n    </div>\n  )\n}\n\nexport default TopTypeContainer\n","import { Page } from \"../Page\"\nimport React, { FunctionComponent, useCallback, useEffect } from \"react\"\nimport { navigateToLandingPage, spotifyProfileLoading, spotifyUserTopTypeLoading } from \"../../state/AppAction\"\nimport { IntegrationStatus } from \"../../state/AppState\"\nimport styles from \"./ProfilePage.module.css\"\nimport Header, { HeaderClickHandler } from \"../../components/Header/Header\"\nimport Button, { ButtonClickHandler } from \"../../components/Button/Button\"\nimport { navigate } from \"hookrouter\"\nimport ProfilePageHeader from \"../../components/ProfilePageHeader/ProfilePageHeader\"\nimport TopTypeContainer from \"../../components/TopTypeContainer/TopTypeContainer\"\n\ntype BackClickHandler = () => void\n\ninterface ProfilePageErrorProps {\n  onBackClick: BackClickHandler\n}\n\nconst ProfilePageError: FunctionComponent<ProfilePageErrorProps> = ({ onBackClick }) => {\n  const onButtonClick = useCallback<ButtonClickHandler>(() => {\n    onBackClick()\n  }, [onBackClick])\n\n  return (\n    <div className={styles.ErrorContainer}>\n      <h2>No profile found!</h2>\n      <br />\n      <Button title={\"Back to Search\"} onClick={onButtonClick} />\n    </div>\n  )\n}\n\nconst ProfilePage: Page = ({ integration, state, dispatch, queryParams }) => {\n  const { extendedData } = state.userProfile\n  const { spotifyId } = queryParams\n  const isInitial = state.spotifyProfileStatus === IntegrationStatus.INITIAL\n  const isLoading = state.spotifyProfileStatus === IntegrationStatus.LOADING\n  const isError = state.spotifyProfileStatus === IntegrationStatus.ERROR\n  const isSuccessfullyLoaded = !isLoading && !isError\n  const isLoggedInUser = spotifyId === state.userData.spotify_id\n\n  useEffect(() => {\n    if (isInitial) {\n      dispatch(spotifyProfileLoading(spotifyId))\n    } else if (isSuccessfullyLoaded && extendedData && state.spotifyTopTracksStatus === IntegrationStatus.INITIAL) {\n      dispatch(spotifyUserTopTypeLoading())\n    }\n  }, [isInitial, isSuccessfullyLoaded, spotifyId, dispatch, extendedData, state.spotifyTopTracksStatus, isLoggedInUser, state.userData])\n\n  const navigateToLandingPageClick = useCallback<HeaderClickHandler | BackClickHandler>(() => {\n    navigate(\"/\")\n    dispatch(navigateToLandingPage())\n  }, [dispatch])\n\n  return (\n    <div className={styles.ProfilePageContainer}>\n      <Header onLogoClick={navigateToLandingPageClick} />\n      {isError ? (\n        <ProfilePageError onBackClick={navigateToLandingPageClick} />\n      ) : (\n        <div className={styles.ProfileContainer}>\n          <ProfilePageHeader profile={state.userProfile} />\n          {extendedData && <TopTypeContainer integration={integration} state={state} dispatch={dispatch} />}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default ProfilePage\n","import { Page } from \"./pages/Page\"\nimport LandingPage from \"./pages/LandingPage/LandingPage\"\nimport ProfilePage from \"./pages/ProfilePage/ProfilePage\"\nimport { HookRouter } from \"hookrouter\"\n\ninterface RouteConfig {\n  [k: string]: (params: HookRouter.QueryParams) => { page: Page; params?: HookRouter.QueryParams }\n}\n\nconst routeConfig: RouteConfig = {\n  \"/\": () => ({ page: LandingPage }),\n  \"/@:spotifyId\": (params) => ({ page: ProfilePage, params })\n}\n\nexport default routeConfig\n","import { ValidationResult } from \"../models/ValidationResult\"\nimport { ImmutableMap } from \"../models/ImmutableMap\"\n\nexport const applyValidationResults = <K, V>(\n  validationResults: ValidationResult<K, V>[],\n  previousErrors: ImmutableMap<K, V>\n): ImmutableMap<K, V> => {\n  return validationResults.reduce(\n    (nextErrors, validationResult) =>\n      validationResult.map({\n        onSuccess: (key: K) => nextErrors.delete(key),\n        onFailure: (key: K, error: V) => nextErrors.set(key, error)\n      }),\n    previousErrors\n  )\n}\n","export interface ValidationResultMapper {\n  onSuccess: Function\n  onFailure: Function\n}\n\nexport class ValidationResult<K = string, T = string> {\n  isValid: boolean\n  key: K\n  error: T | undefined\n\n  private constructor(isValid: boolean, key: K, error: T | undefined) {\n    this.isValid = isValid\n    this.key = key\n    this.error = error\n  }\n\n  public static ofFailure<K = string, T = string>(key: K, result: T): ValidationResult<K, T> {\n    return new ValidationResult(false, key, result)\n  }\n\n  public static ofSuccess<K = string, T = string>(key: K): ValidationResult<K, T> {\n    return new ValidationResult<K, T>(true, key, undefined)\n  }\n\n  public map<V>({ onSuccess, onFailure }: ValidationResultMapper) {\n    return this.isValid ? onSuccess(this.key) : onFailure(this.key, this.error)\n  }\n}\n","import { ValidationResult } from \"../models/ValidationResult\"\nimport { ProfileSearchErrorType } from \"./AppState\"\n\nexport const validateProfileSearch = (spotifyId: string): ValidationResult<ProfileSearchErrorType> =>\n  spotifyId.length > 0\n    ? ValidationResult.ofSuccess(\"PROFILE_SEARCH_ERROR\")\n    : ValidationResult.ofFailure(\"PROFILE_SEARCH_ERROR\", \"Please enter a Spotify ID.\")\n","import { AppAction } from \"./AppAction\"\nimport { Reducer } from \"react\"\nimport InitialAppState, { AppState, IntegrationStatus, LoginStatus, TopType } from \"./AppState\"\nimport { applyValidationResults } from \"../utils/applyValidationResults\"\nimport { validateProfileSearch } from \"./AppValidators\"\n\nconst AppReducer: Reducer<AppState, AppAction> = (prevState, action): AppState => {\n  switch (action.type) {\n    case \"SPOTIFY_PROFILE_LOADING\":\n      return {\n        ...prevState,\n        spotifyProfileStatus: IntegrationStatus.LOADING\n      }\n    case \"SPOTIFY_PROFILE_SUCCESS\":\n      return {\n        ...prevState,\n        spotifyProfileStatus: IntegrationStatus.SUCCESS,\n        userProfile: action.payload\n      }\n    case \"SPOTIFY_PROFILE_ERROR\":\n      return {\n        ...prevState,\n        spotifyProfileStatus: IntegrationStatus.ERROR\n      }\n\n    case \"SPOTIFY_USER_TOP_TYPE_LOADING\":\n      if (prevState.topType === TopType.TRACKS) {\n        return {\n          ...prevState,\n          spotifyTopTracksStatus: IntegrationStatus.LOADING,\n          spotifyTopArtists: []\n        }\n      } else {\n        return {\n          ...prevState,\n          spotifyTopArtistsStatus: IntegrationStatus.LOADING,\n          spotifyTopTracks: []\n        }\n      }\n\n    case \"SPOTIFY_USER_TOP_TRACKS_SUCCESS\":\n      return {\n        ...prevState,\n        spotifyTopTracksStatus: IntegrationStatus.SUCCESS,\n        spotifyTopTracks: action.payload\n      }\n\n    case \"SPOTIFY_USER_TOP_TRACKS_ERROR\":\n      return {\n        ...prevState,\n        spotifyTopTracksStatus: IntegrationStatus.ERROR,\n        spotifyTopTracksError: action.payload\n      }\n\n    case \"PROFILE_SEARCH_CHANGE\":\n      return {\n        ...prevState,\n        profileSearchValue: action.payload,\n        profileSearchErrors: applyValidationResults([validateProfileSearch(action.payload)], prevState.profileSearchErrors)\n      }\n\n    case \"PROFILE_SEARCH_CLICK\":\n      return {\n        ...prevState,\n        profileSearchErrors: applyValidationResults([validateProfileSearch(prevState.profileSearchValue)], prevState.profileSearchErrors),\n        profileSearchValue: \"\"\n      }\n\n    case \"TIME_RANGE_CHANGE\":\n      if (prevState.topType === TopType.TRACKS) {\n        return {\n          ...prevState,\n          timeRangeSelected: action.payload,\n          spotifyTopTracksStatus: IntegrationStatus.LOADING\n        }\n      } else {\n        return {\n          ...prevState,\n          timeRangeSelected: action.payload,\n          spotifyTopArtistsStatus: IntegrationStatus.LOADING\n        }\n      }\n\n    case \"NAVIGATE_TO_LANDING_PAGE\":\n      return {\n        ...prevState,\n        spotifyProfileStatus: IntegrationStatus.INITIAL,\n        userProfile: InitialAppState.userProfile,\n        spotifyTopTracks: [],\n        spotifyTopArtists: [],\n        profileSearchValue: \"\"\n      }\n\n    case \"SPOTIFY_USER_TOP_ARTISTS_ERROR\":\n      return {\n        ...prevState,\n        spotifyTopArtistsError: action.payload,\n        spotifyTopArtistsStatus: IntegrationStatus.ERROR\n      }\n\n    case \"SPOTIFY_USER_TOP_ARTISTS_SUCCESS\":\n      return {\n        ...prevState,\n        spotifyTopArtists: action.payload,\n        spotifyTopArtistsStatus: IntegrationStatus.SUCCESS\n      }\n\n    case \"TOP_TYPE_CHANGE\":\n      return {\n        ...prevState,\n        topType: action.payload\n      }\n\n    case \"LOGIN_USER\":\n      return {\n        ...prevState,\n        loginStatus: LoginStatus.LOADING\n      }\n\n    case \"LOGOUT_USER\":\n      return {\n        ...prevState,\n        loginStatus: LoginStatus.NO_USER\n      }\n\n    case \"REFRESH_ACCESS_TOKEN_LOADING_ACTION\":\n      return {\n        ...prevState,\n        refreshAccessTokenStatus: IntegrationStatus.LOADING\n      }\n\n    case \"REFRESH_ACCESS_TOKEN_SUCCESS_ACTION\":\n      return {\n        ...prevState,\n        refreshAccessTokenStatus: IntegrationStatus.SUCCESS\n      }\n\n    case \"REFRESH_ACCESS_TOKEN_ERROR_ACTION\":\n      return {\n        ...prevState,\n        refreshAccessTokenStatus: IntegrationStatus.ERROR,\n        refreshAccessTokenError: action.payload\n      }\n\n    case \"USER_DATA_LOADING_ACTION\":\n      return {\n        ...prevState,\n        userDataStatus: IntegrationStatus.LOADING\n      }\n\n    case \"USER_DATA_SUCCESS_ACTION\":\n      return {\n        ...prevState,\n        userData: action.payload,\n        userDataStatus: IntegrationStatus.SUCCESS,\n        loginStatus: LoginStatus.LOGGED_IN\n      }\n\n    case \"USER_DATA_ERROR_ACTION\":\n      return {\n        ...prevState,\n        userDataError: action.payload,\n        userDataStatus: IntegrationStatus.ERROR,\n        loginStatus: LoginStatus.NO_USER\n      }\n  }\n  return prevState\n}\n\nexport default AppReducer\n","import { useReducer, useRef, useEffect, useCallback, Reducer, Dispatch } from \"react\"\n\nexport type SideEffect<S, A, C> = (state: S, action: A, context: C) => Promise<A | void>\n\nexport interface ActionWithEffects<S, A, C> {\n  effects?: SideEffect<S, A, C>\n}\n\nconst useReducerWithEffects = <S, A extends ActionWithEffects<S, A, C>, C>(\n  reducer: Reducer<S, A>,\n  state0: S,\n  effectContext: C\n): [S, Dispatch<A>] => {\n  const [state, reactDispatch] = useReducer(reducer, state0)\n  const actions = useRef<A[]>([])\n\n  const dispatch = useCallback<Dispatch<any>>(\n    (action) => {\n      setTimeout(() => {\n        if (action.effects) actions.current.push(action)\n        reactDispatch(action)\n      })\n    },\n    [reactDispatch]\n  )\n\n  useEffect(() => {\n    actions.current.forEach(async (action) => {\n      if (action.effects) {\n        const nextAction = await action.effects(state, action, effectContext)\n\n        if (nextAction) dispatch(nextAction)\n      }\n    })\n\n    actions.current = []\n  }, [state, dispatch, effectContext])\n\n  return [state, dispatch]\n}\n\nexport default useReducerWithEffects\n","import React, { FunctionComponent, useEffect } from \"react\"\nimport AppState, { LoginStatus } from \"./state/AppState\"\nimport routeConfig from \"./routeConfig\"\nimport { navigate, useRoutes } from \"hookrouter\"\nimport AppReducer from \"./state/AppReducer\"\nimport { Integration } from \"./integrations/Integration\"\nimport useReducerWithEffects from \"./hooks/userReducerWithEffects\"\nimport { loginUser } from \"./state/AppAction\"\n\ninterface AppProps {\n  integration: Integration\n}\n\nconst App: FunctionComponent<AppProps> = ({ integration }) => {\n  const route = useRoutes(routeConfig)\n  const [state, dispatch] = useReducerWithEffects(AppReducer, AppState, {\n    integration\n  })\n\n  const { loginStatus } = state\n  const isInitial = loginStatus === LoginStatus.INITIAL\n\n  useEffect(() => {\n    if (isInitial) {\n      dispatch(loginUser())\n    }\n  }, [dispatch, isInitial])\n\n  if (!route) {\n    navigate(\"/\", true)\n    return null\n  }\n\n  const { page: CurrentRoute, params } = route\n\n  return <CurrentRoute integration={integration} state={state} dispatch={dispatch} queryParams={params} />\n}\n\nexport default App\n","import \"./index.css\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Integration } from \"./integrations/Integration\"\nimport App from \"./App\"\n\nconst init = async () => {\n  const integrationModule = await import(`./integrations/${process.env.REACT_APP_INTEGRATION_TYPE}Integration.ts`)\n\n  const integration: Integration = integrationModule.default\n\n  ReactDOM.render(<App integration={integration} />, document.getElementById(\"root\"))\n}\n\ninit()\n"],"sourceRoot":""}